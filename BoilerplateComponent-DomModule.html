<!-- script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script -->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">

<link rel="import" href="BoilerplateList-DomModule.html">
<link rel="import" href="BoilerplateInsert-DomModule.html">
<link rel="import" href="BoilerplateAdd-DomModule.html">

<link rel="import" href="bower_components/neon-animation/neon-animated-pages.html">
<link rel="import" href="bower_components/neon-animation/neon-animatable.html">
<link rel="import" href="bower_components/neon-animation/neon-animation-behavior.html">
<link rel="import" href="bower_components/neon-animation/neon-animation-runner-behavior.html">
<link rel="import" href="bower_components/neon-animation/neon-animations.html">

<link rel="import" href="bower_components/neon-animation/animations/fade-out-animation.html">
<link rel="import" href="bower_components/neon-animation/animations/slide-from-left-animation.html">
<link rel="import" href="bower_components/neon-animation/animations/slide-from-right-animation.html">

<link rel="import" href="bower_components/polymer/polymer.html">

<dom-module id="boilerplate-component">

    <template>
        <neon-animated-pages id="pages" selected="2" entry-animation="[[entryAnimation]]" exit-animation="[[exitAnimation]]">
            <boilerplate-insert on-close="_onClose"></boilerplate-insert>
            <boilerplate-add on-close="_onClose"></boilerplate-add>
            <boilerplate-list on-select="_onSelect" on-add="_onAdd"></boilerplate-list>
        </neon-animated-pages>
    </template>

</dom-module>

<script>
    Polymer({
        is: 'boilerplate-component',
        behaviors: [
            Polymer.NeonAnimationRunnerBehavior
        ],
        ready: function() {
            this.entryAnimation = 'slide-from-right-animation';
            this.exitAnimation = 'slide-left-animation';            
        },
        _onClose: function() {
            this.$.pages.selected = 2;
            this.entryAnimation = 'slide-from-right-animation';
            this.exitAnimation = 'slide-left-animation';            

        },
        _onSelect: function(e) {
//            console.log('item detail :' + e);
//            console.log('item detail :' + e.detail);
//            console.log('item detail :' + e.detail.name);
            
            document.querySelector('boilerplate-insert').name = e.detail.name;
            this.$.pages.selected = 0;
            this.entryAnimation = 'slide-from-left-animation';
            this.exitAnimation = 'slide-right-animation';            

        },
        _onAdd: function() {
//            console.log("adding");
            this.$.pages.selected = 1;
            this.entryAnimation = 'slide-from-left-animation';
            this.exitAnimation = 'slide-right-animation';            
        }
    });
</script>
